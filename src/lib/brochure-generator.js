// Générateur de Brochures Professionnelles CMA 2026
// Design: Bleu #0000FF, Jaune #FFFF00, Blanc #FFFFFF
var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
import { formationsAlternance, formationsReconversion } from './data';
import { formationsVRD } from './formations-vrd';
var COLORS = {
    bleu: '#0000FF',
    jaune: '#FFFF00',
    blanc: '#FFFFFF',
    bleuFonce: '#0000CC',
    jauneClair: '#FFFF66'
};
export function generateBrochureHTML(formationId) {
    // Trouver la formation
    var allFormations = __spreadArray(__spreadArray(__spreadArray([], formationsAlternance, true), formationsReconversion, true), formationsVRD, true);
    var formation = allFormations.find(function (f) { return f.id === formationId; });
    if (!formation) {
        throw new Error("Formation ".concat(formationId, " non trouv\u00E9e"));
    }
    // Calculer le nombre de pages nécessaires
    var contentSize = calculateContentSize(formation);
    var pages = contentSize > 1500 ? 3 : 2;
    return "\n<!DOCTYPE html>\n<html lang=\"fr\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Brochure - ".concat(formation.title, "</title>\n  <style>\n    ").concat(generateCSS(), "\n  </style>\n</head>\n<body>\n  ").concat(generatePage1(formation), "\n  ").concat(generatePage2(formation), "\n  ").concat(pages === 3 ? generatePage3(formation) : '', "\n</body>\n</html>\n  ");
}
function calculateContentSize(formation) {
    var _a, _b;
    var size = 0;
    size += formation.objectifs.length * 50;
    size += formation.programme.length * 80;
    size += formation.debouches.length * 40;
    size += (((_a = formation.evaluation) === null || _a === void 0 ? void 0 : _a.length) || 0) * 40;
    size += (((_b = formation.poursuites) === null || _b === void 0 ? void 0 : _b.length) || 0) * 40;
    return size;
}
function generateCSS() {
    return "\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n\n    @page {\n      size: A4;\n      margin: 0;\n    }\n\n    body {\n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n      color: #333;\n      line-height: 1.6;\n    }\n\n    .page {\n      width: 210mm;\n      height: 297mm;\n      padding: 20mm;\n      background: ".concat(COLORS.blanc, ";\n      page-break-after: always;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .page:last-child {\n      page-break-after: auto;\n    }\n\n    /* Header avec logo et bandes color\u00E9es */\n    .header {\n      position: relative;\n      margin-bottom: 30px;\n      padding-bottom: 20px;\n      border-bottom: 4px solid ").concat(COLORS.bleu, ";\n    }\n\n    .logo {\n      width: 180px;\n      height: auto;\n      margin-bottom: 15px;\n    }\n\n    .header-band {\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 100px;\n      height: 100%;\n      background: linear-gradient(135deg, ").concat(COLORS.bleu, " 0%, ").concat(COLORS.bleuFonce, " 100%);\n      opacity: 0.1;\n      z-index: 0;\n    }\n\n    .header-band-yellow {\n      position: absolute;\n      top: 0;\n      right: 100px;\n      width: 50px;\n      height: 100%;\n      background: ").concat(COLORS.jaune, ";\n      opacity: 0.2;\n      z-index: 0;\n    }\n\n    /* Titres */\n    .title {\n      font-size: 28px;\n      font-weight: bold;\n      color: ").concat(COLORS.bleu, ";\n      margin-bottom: 10px;\n      line-height: 1.3;\n      position: relative;\n      z-index: 1;\n    }\n\n    .subtitle {\n      font-size: 16px;\n      color: #666;\n      margin-bottom: 5px;\n      font-weight: 600;\n    }\n\n    .rncp {\n      display: inline-block;\n      background: ").concat(COLORS.jaune, ";\n      color: #000;\n      padding: 5px 15px;\n      border-radius: 20px;\n      font-weight: bold;\n      font-size: 14px;\n      margin-top: 10px;\n    }\n\n    /* Sections */\n    .section {\n      margin-bottom: 25px;\n    }\n\n    .section-title {\n      font-size: 18px;\n      font-weight: bold;\n      color: ").concat(COLORS.bleu, ";\n      margin-bottom: 12px;\n      padding-bottom: 8px;\n      border-bottom: 2px solid ").concat(COLORS.jaune, ";\n      display: flex;\n      align-items: center;\n    }\n\n    .section-title::before {\n      content: '';\n      width: 8px;\n      height: 8px;\n      background: ").concat(COLORS.jaune, ";\n      border-radius: 50%;\n      margin-right: 10px;\n    }\n\n    .section-content {\n      font-size: 13px;\n      color: #444;\n      line-height: 1.8;\n    }\n\n    /* Listes */\n    .list-item {\n      padding: 8px 0;\n      padding-left: 25px;\n      position: relative;\n      border-left: 3px solid ").concat(COLORS.bleu, ";\n      margin-bottom: 8px;\n      background: linear-gradient(90deg, rgba(0,0,255,0.03) 0%, rgba(255,255,255,1) 100%);\n    }\n\n    .list-item::before {\n      content: '\u25B8';\n      position: absolute;\n      left: 8px;\n      color: ").concat(COLORS.jaune, ";\n      font-weight: bold;\n    }\n\n    /* Encadr\u00E9s */\n    .info-box {\n      background: linear-gradient(135deg, rgba(0,0,255,0.05) 0%, rgba(255,255,0,0.05) 100%);\n      border: 2px solid ").concat(COLORS.bleu, ";\n      border-left: 6px solid ").concat(COLORS.jaune, ";\n      padding: 15px;\n      margin: 15px 0;\n      border-radius: 8px;\n    }\n\n    .info-box-title {\n      font-weight: bold;\n      color: ").concat(COLORS.bleu, ";\n      margin-bottom: 8px;\n      font-size: 14px;\n    }\n\n    .info-box-content {\n      font-size: 13px;\n      color: #555;\n    }\n\n    /* Grid pour informations pratiques */\n    .info-grid {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 15px;\n      margin-top: 15px;\n    }\n\n    .info-item {\n      background: ").concat(COLORS.blanc, ";\n      padding: 12px;\n      border-radius: 6px;\n      border: 1px solid #e0e0e0;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n    }\n\n    .info-item-label {\n      font-weight: bold;\n      color: ").concat(COLORS.bleu, ";\n      font-size: 12px;\n      margin-bottom: 5px;\n    }\n\n    .info-item-value {\n      font-size: 13px;\n      color: #333;\n    }\n\n    /* Footer */\n    .footer {\n      position: absolute;\n      bottom: 15mm;\n      left: 20mm;\n      right: 20mm;\n      padding-top: 15px;\n      border-top: 3px solid ").concat(COLORS.bleu, ";\n      font-size: 11px;\n      color: #666;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .footer-contact {\n      font-size: 11px;\n    }\n\n    .footer-contact strong {\n      color: ").concat(COLORS.bleu, ";\n    }\n\n    .page-number {\n      background: ").concat(COLORS.jaune, ";\n      color: #000;\n      padding: 5px 12px;\n      border-radius: 15px;\n      font-weight: bold;\n    }\n\n    /* D\u00E9bouch\u00E9s avec salaires */\n    .debouche-item {\n      padding: 10px;\n      margin-bottom: 8px;\n      background: linear-gradient(90deg, rgba(255,255,0,0.1) 0%, rgba(255,255,255,1) 100%);\n      border-left: 4px solid ").concat(COLORS.jaune, ";\n      border-radius: 4px;\n      font-size: 13px;\n    }\n\n    .debouche-title {\n      font-weight: 600;\n      color: #333;\n    }\n\n    .debouche-salary {\n      color: ").concat(COLORS.bleu, ";\n      font-weight: bold;\n      font-size: 12px;\n      margin-top: 3px;\n    }\n\n    /* Bande d\u00E9corative */\n    .decorative-band {\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 150px;\n      height: 150px;\n      background: linear-gradient(135deg, ").concat(COLORS.bleu, " 0%, ").concat(COLORS.jaune, " 100%);\n      opacity: 0.1;\n      border-radius: 0 0 0 100%;\n      z-index: 0;\n    }\n\n    @media print {\n      .page {\n        margin: 0;\n        border: none;\n        box-shadow: none;\n      }\n    }\n  ");
}
function generatePage1(formation) {
    return "\n    <div class=\"page\">\n      <div class=\"decorative-band\"></div>\n      <div class=\"header-band\"></div>\n      <div class=\"header-band-yellow\"></div>\n      \n      <div class=\"header\">\n        <img src=\"/logoo.svg\" alt=\"CMA Logo\" class=\"logo\" />\n        <div class=\"subtitle\">".concat(formation.level, "</div>\n        <h1 class=\"title\">").concat(formation.title, "</h1>\n        <span class=\"rncp\">Code RNCP : ").concat(formation.rncp, "</span>\n      </div>\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">Pr\u00E9sentation de la Formation</h2>\n        <div class=\"section-content\">\n          <p><strong>").concat(formation.shortDesc, "</strong></p>\n          <p style=\"margin-top: 10px;\">").concat(formation.fullDesc, "</p>\n        </div>\n      </div>\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">Objectifs P\u00E9dagogiques</h2>\n        <div class=\"section-content\">\n          ").concat(formation.objectifs.slice(0, 4).map(function (obj) { return "\n            <div class=\"list-item\">".concat(obj, "</div>\n          "); }).join(''), "\n          ").concat(formation.objectifs.length > 4 ? '<p style="margin-top: 10px; font-style: italic; color: #666;">Suite page suivante...</p>' : '', "\n        </div>\n      </div>\n\n      <div class=\"info-box\">\n        <div class=\"info-box-title\">\uD83D\uDCC5 Informations Cl\u00E9s</div>\n        <div class=\"info-box-content\">\n          <strong>Dur\u00E9e :</strong> ").concat(formation.duree, "<br>\n          <strong>Volume horaire :</strong> ").concat(formation.volumeHoraire, "<br>\n          <strong>Rythme :</strong> ").concat(formation.rythme, "\n        </div>\n      </div>\n\n      <div class=\"footer\">\n        <div class=\"footer-contact\">\n          <strong>CMA - Construction Management Academy</strong><br>\n          67-69 Avenue du G\u00E9n\u00E9ral de Gaulle, 77420 Champs sur Marne<br>\n          \uD83D\uDCDE 01 89 70 60 52 | \u2709\uFE0F contact.academy@cma-education.com\n        </div>\n        <div class=\"page-number\">Page 1</div>\n      </div>\n    </div>\n  ");
}
function generatePage2(formation) {
    var remainingObjectifs = formation.objectifs.slice(4);
    return "\n    <div class=\"page\">\n      <div class=\"decorative-band\"></div>\n      \n      <div class=\"header\">\n        <img src=\"/logoo.svg\" alt=\"CMA Logo\" class=\"logo\" />\n        <h2 class=\"title\" style=\"font-size: 22px;\">".concat(formation.title, "</h2>\n      </div>\n\n      ").concat(remainingObjectifs.length > 0 ? "\n        <div class=\"section\">\n          <h2 class=\"section-title\">Objectifs P\u00E9dagogiques (suite)</h2>\n          <div class=\"section-content\">\n            ".concat(remainingObjectifs.map(function (obj) { return "\n              <div class=\"list-item\">".concat(obj, "</div>\n            "); }).join(''), "\n          </div>\n        </div>\n      ") : '', "\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">Programme D\u00E9taill\u00E9</h2>\n        <div class=\"section-content\">\n          ").concat(formation.programme.map(function (prog) { return "\n            <div class=\"list-item\">".concat(prog, "</div>\n          "); }).join(''), "\n        </div>\n      </div>\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">D\u00E9bouch\u00E9s Professionnels</h2>\n        <div class=\"section-content\">\n          ").concat(formation.debouches.map(function (deb) {
        var _a = deb.includes('salaire')
            ? deb.split('(salaire')
            : [deb, ''], metier = _a[0], salaire = _a[1];
        return "\n              <div class=\"debouche-item\">\n                <div class=\"debouche-title\">".concat(metier.trim(), "</div>\n                ").concat(salaire ? "<div class=\"debouche-salary\">\uD83D\uDCB0 Salaire ".concat(salaire.replace(')', '').trim(), "</div>") : '', "\n              </div>\n            ");
    }).join(''), "\n        </div>\n      </div>\n\n      <div class=\"footer\">\n        <div class=\"footer-contact\">\n          <strong>CMA - Construction Management Academy</strong><br>\n          \uD83D\uDCDE 01 89 70 60 52 | \u2709\uFE0F contact.academy@cma-education.com\n        </div>\n        <div class=\"page-number\">Page 2</div>\n      </div>\n    </div>\n  ");
}
function generatePage3(formation) {
    return "\n    <div class=\"page\">\n      <div class=\"decorative-band\"></div>\n      \n      <div class=\"header\">\n        <img src=\"/logoo.svg\" alt=\"CMA Logo\" class=\"logo\" />\n        <h2 class=\"title\" style=\"font-size: 22px;\">".concat(formation.title, "</h2>\n      </div>\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">Informations Pratiques</h2>\n        <div class=\"info-grid\">\n          <div class=\"info-item\">\n            <div class=\"info-item-label\">\u23F1\uFE0F Dur\u00E9e</div>\n            <div class=\"info-item-value\">").concat(formation.duree, "</div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-item-label\">\uD83D\uDCDA Volume Horaire</div>\n            <div class=\"info-item-value\">").concat(formation.volumeHoraire, "</div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-item-label\">\uD83D\uDD04 Rythme</div>\n            <div class=\"info-item-value\">").concat(formation.rythme, "</div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-item-label\">\uD83D\uDCCD Modalit\u00E9</div>\n            <div class=\"info-item-value\">").concat(formation.modalite, "</div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-item-label\">\uD83D\uDC65 Effectif</div>\n            <div class=\"info-item-value\">").concat(formation.effectif, "</div>\n          </div>\n          <div class=\"info-item\">\n            <div class=\"info-item-label\">\uD83D\uDCB0 Co\u00FBt</div>\n            <div class=\"info-item-value\">").concat(formation.cout, "</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">Pr\u00E9requis</h2>\n        <div class=\"section-content\">\n          ").concat(formation.prerequis.map(function (pre) { return "\n            <div class=\"list-item\">".concat(pre, "</div>\n          "); }).join(''), "\n        </div>\n      </div>\n\n      ").concat(formation.evaluation ? "\n        <div class=\"section\">\n          <h2 class=\"section-title\">\u00C9valuation et Certification</h2>\n          <div class=\"section-content\">\n            ".concat(formation.evaluation.map(function (item) { return "\n              <div class=\"list-item\">".concat(item, "</div>\n            "); }).join(''), "\n            <div class=\"info-box\" style=\"margin-top: 15px;\">\n              <div class=\"info-box-title\">\uD83C\uDF93 Certificateur</div>\n              <div class=\"info-box-content\">").concat(formation.certificateur, "</div>\n            </div>\n          </div>\n        </div>\n      ") : '', "\n\n      ").concat(formation.poursuites ? "\n        <div class=\"section\">\n          <h2 class=\"section-title\">Poursuites d'\u00C9tudes</h2>\n          <div class=\"section-content\">\n            ".concat(formation.poursuites.map(function (item) { return "\n              <div class=\"list-item\">".concat(item, "</div>\n            "); }).join(''), "\n          </div>\n        </div>\n      ") : '', "\n\n      <div class=\"info-box\" style=\"background: linear-gradient(135deg, rgba(0,0,255,0.1) 0%, rgba(255,255,0,0.1) 100%); border: 3px solid ").concat(COLORS.bleu, ";\">\n        <div class=\"info-box-title\" style=\"font-size: 16px;\">\uD83D\uDCDE Contact & Inscription</div>\n        <div class=\"info-box-content\">\n          <strong>Construction Management Academy</strong><br>\n          67-69 Avenue du G\u00E9n\u00E9ral de Gaulle<br>\n          77420 Champs sur Marne<br><br>\n          <strong style=\"color: ").concat(COLORS.bleu, ";\">T\u00E9l\u00E9phone :</strong> 01 89 70 60 52<br>\n          <strong style=\"color: ").concat(COLORS.bleu, ";\">Email :</strong> contact.academy@cma-education.com<br>\n          <strong style=\"color: ").concat(COLORS.bleu, ";\">Inscription :</strong> inscription.academy@cma-education.com\n        </div>\n      </div>\n\n      <div class=\"footer\">\n        <div class=\"footer-contact\">\n          <strong>CMA - Construction Management Academy</strong><br>\n          Formation certifiante RNCP | \u00C9tablissement d'enseignement sup\u00E9rieur\n        </div>\n        <div class=\"page-number\">Page 3</div>\n      </div>\n    </div>\n  ");
}
// Fonction pour générer toutes les brochures
export function generateAllBrochures() {
    var allFormations = __spreadArray(__spreadArray(__spreadArray([], formationsAlternance, true), formationsReconversion, true), formationsVRD, true);
    return allFormations.map(function (formation) { return ({
        id: formation.id,
        title: formation.title,
        html: generateBrochureHTML(formation.id)
    }); });
}
// Export pour utilisation dans l'API
export { generateBrochureHTML as default };
